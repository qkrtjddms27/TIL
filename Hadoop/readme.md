## 하둡

### Scale-up
기존의 서버를 보다 높은 사양으로 업그레이드.

- 네트워크 상황 고려 하지 않고 성능 향상 가능.
- 서버 성능 향상에 비용 부담이 크고 한계가 명확함.
- 자연 재해와 같은 상황에서 대처가 많이 어렵다.
- 서버를 옮기거나 장비를 업그레이드하는 상황에 다운타임을 피할 수 없다.


### Scale-out
장비를 추가해서 숫자를 늘림.

- 확장의 유연성이 존재한다.
- 필요에 따라서 그때 그때 성능 향상이 가능하다.
- 아키텍처 설계가 많이 어렵다.
- 사용자 수가 급증하거나 데이터가 급증해도 프로그램이 멈추거나 성능이 크게 떨어지지 않는다.

### 맵리듀스 프레임워크(MapReduce)
- 여러 대의 머신에 분산하여 저장.
- 각 파일을 여러 개의 순차적인 블록으로 분할하여 저장.
- Falut Tolerance 를 위해서 여러 개로 복사되어 중복 저장.
- 레코드, 튜플 - (KEY, VALUE)

### 맵 리듀스 페이즈(MapReduce Phase)
- 맵-페이즈
- 셔플링-페이즈
- 리듀스-페이즈

#### 맵-페이즈
- 분산 호출되어 수행된 후 맵 함수에서 출력한 결과들이 (KEY-VALUE)로 표현
- 제일 먼저 사용되는 함수
- 병렬 분산으로 호출
- (KEY, VALUE)쌍 형태로 결과를 출력 
- 같은 KEY를 가진 (KEY, VALUE) 쌍은 같은 머신으로 보내짐.
#### 셔플링-페이즈
- (KEY, VALUE) 쌍을 정렬 후 (KEY, VALUE-LIST)의 형태로 만듬
- 맵-페이즈가 끝나면 시작
#### 리듀스-페이즈
- 셔플링-페이즈가 끝나면 시작.
- VALUE-LIST에 있는 값들을 다 합한 값을 VALUE로 만듬. (압축)

인버티드 인덱스
각 단어 마다 그 단어가 나타나는 문서 아이디 doc와 그 문서에서 나오는 위치를 doc:position 형태로 만듬

```
Doc1 : IMF, Finacial economics Crisis
Doc2 : IMF, Finacial Crisis
Doc3 : Harry Economics

IMF -> Doc1:1, Doc2:1
Potter -> Doc4:17, Doc5:7
```